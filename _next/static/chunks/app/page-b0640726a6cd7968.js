(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5006:function(e,t,a){Promise.resolve().then(a.bind(a,7791))},7791:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return f}});var n=a(7437),r=a(2265);let o=[{kind:"haiku",poem:"An old silent pond...\nA frog jumps into the pond—\nSplash! Silence again."},{kind:"couplet",poem:"The sun sets in the west,\nAnd birds return to their nest."},{kind:"tanka",poem:"Over the wintry\nforest, winds howl in rage\nwith no leaves to blow.\nThen, the truth emerges clear:\nThere is only you and me."},{kind:"free verse",poem:"The moon whispers secrets\nto the silent sea,\nwaves carry dreams\nto shores unseen."},{kind:"limerick",poem:"There once was a man from Peru,\nWho dreamt he was eating his shoe.\nHe woke with a fright\nIn the middle of the night\nAnd found that his dream had come true."},{kind:"sonnet",poem:"Shall I compare thee to a summer's day?\nThou art more lovely and more temperate:\nRough winds do shake the darling buds of May,\nAnd summer's lease hath all too short a date:\nSometime too hot the eye of heaven shines,\nAnd often is his gold complexion dimm'd;\nAnd every fair from fair sometime declines,\nBy chance or nature's changing course untrimm'd;\nBut thy eternal summer shall not fade\nNor lose possession of that fair thou owest;\nNor shall Death brag thou wanderest in his shade,\nWhen in eternal lines to time thou growest:\nSo long as men can breathe or eyes can see,\nSo long lives this, and this gives life to thee."},{kind:"ballad",poem:"It was many and many a year ago,\nIn a kingdom by the sea,\nThat a maiden there lived whom you may know\nBy the name of Annabel Lee;\nAnd this maiden she lived with no other thought\nThan to love and be loved by me.\nI was a child and she was a child,\nIn this kingdom by the sea;\nBut we loved with a love that was more than love—\nI and my Annabel Lee—\nWith a love that the winged seraphs of heaven\nCoveted her and me."},{kind:"ode",poem:"Ode to a Nightingale\nMy heart aches, and a drowsy numbness pains\nMy sense, as though of hemlock I had drunk,\nOr emptied some dull opiate to the drains\nOne minute past, and Lethe-wards had sunk:\n'Tis not through envy of thy happy lot,\nBut being too happy in thine happiness,—\nThat thou, light-winged Dryad of the trees\nIn some melodious plot\nOf beechen green, and shadows numberless,\nSingest of summer in full-throated ease."}];var s=e=>{let{onPoemSubmit:t}=e,[a,s]=(0,r.useState)(""),l=()=>{let e=o[Math.floor(Math.random()*o.length)];s(e.poem),t(e.poem),console.log("Random ".concat(e.kind," poem set"))};return(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t(a)},children:[(0,n.jsx)("textarea",{value:a,onChange:e=>s(e.target.value),placeholder:"Roses are red, violets are blue, a poem goes here, and so do you.",className:"w-full p-2 border border-black dark:border-white bg-transparent text-black dark:text-white rounded",rows:5}),(0,n.jsx)("button",{type:"submit",className:"mt-2 p-2 bg-blue-500 text-white rounded",disabled:!a.trim(),children:"Generate Markov Chain's Transition Matrix"}),(0,n.jsx)("button",{type:"button",className:"mt-2 p-2 ml-2 bg-gray-500 text-white rounded",onClick:()=>l(),children:"Set Random Poem"})]})},l=e=>{let{matrix:t}=e;return(0,n.jsxs)("div",{className:"mt-4",children:[(0,n.jsx)("h2",{className:"text-xl font-bold",children:"Markov Transition Matrix"}),(0,n.jsx)("pre",{className:"whitespace-pre-wrap text-xs bg-transparent p-4 rounded",children:JSON.stringify(t,null,2)})]})},i=e=>{let{poem:t,onGeneratePoem:a}=e;return(0,n.jsxs)("div",{className:"my-4",children:[(0,n.jsx)("h2",{className:"text-xl font-bold",children:"Generated Poem"}),(0,n.jsx)("p",{className:"whitespace-pre-wrap text-sm",children:t}),(0,n.jsx)("button",{onClick:a,className:"mt-2 p-2 bg-green-500 text-white rounded",children:"Generate Another Poem"})]})};let h=e=>{let t=e.split(/\s+/),a={};for(let e=0;e<t.length-1;e++){let n=t[e],r=t[e+1];a[n]||(a[n]={}),a[n][r]||(a[n][r]=0),a[n][r]++}return a},d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,a=Object.keys(e),n=a[Math.floor(Math.random()*a.length)],r=n;for(let a=0;a<t-1;a++){let t=c(e[n]);if(r+=" "+t,!e[n=t])break}return r.charAt(0).toUpperCase()+r.slice(1)+"."},c=e=>{let t=Object.keys(e),a=Object.values(e),n=Math.random()*a.reduce((e,t)=>e+t,0);for(let e=0;e<t.length;e++)if((n-=a[e])<=0)return t[e];return t[t.length-1]};var m=a(708),u=e=>{let{data:t}=e,a=(0,r.useRef)(null),o=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;return(0,r.useEffect)(()=>{var e,n;let r=(null==a?void 0:null===(n=a.current)||void 0===n?void 0:null===(e=n.parentElement)||void 0===e?void 0:e.clientWidth)||200,s=m.Ys(a.current).attr("viewBox",[0,0,r,600]).attr("height",600);s.selectAll("*").remove();let l=Array.from(new Set([...Object.keys(t),...Object.values(t).flatMap(e=>Object.keys(e))])).map(e=>({id:e})),i=Object.keys(t).flatMap(e=>Object.entries(t[e]).map(t=>{let[a,n]=t;return{source:e,target:a,value:n}})),h=m.A4v(l).force("link",m.Fsl(i).id(e=>e.id).distance(50)).force("charge",m.q5i().strength(-100)).force("center",m.wqt(r/2,300)),d=s.append("g").selectAll("line").data(i).enter().append("line").attr("stroke-width",e=>Math.sqrt(e.value)).attr("stroke","#999"),c=s.append("g").selectAll("circle").data(l).enter().append("circle").attr("r",10).attr("fill","#69b3a2").call(m.ohM().on("start",function(e,t){e.active||h.alphaTarget(.3).restart(),t.fx=t.x,t.fy=t.y}).on("drag",function(e,t){t.fx=e.x,t.fy=e.y}).on("end",function(e,t){e.active||h.alphaTarget(0),t.fx=null,t.fy=null}));c.filter((e,t)=>0===t||t===l.length-1).attr("fill","red");let u=s.append("g").selectAll("text").data(l).enter().append("text").attr("dx",12).attr("dy",".35em").attr("fill",o?"white":"black").text(e=>e.id||"(end of input poem)");h.nodes(l).on("tick",function(){d.attr("x1",e=>e.source.x).attr("y1",e=>e.source.y).attr("x2",e=>e.target.x).attr("y2",e=>e.target.y),c.attr("cx",e=>e.x).attr("cy",e=>e.y),u.attr("x",e=>e.x).attr("y",e=>e.y)}),h.force("link").links(i)},[t]),(0,n.jsx)("svg",{ref:a})},p=e=>{let{matrix:t}=e,a=(0,r.useRef)(),o=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;return(0,r.useEffect)(()=>{let e=a.current.parentElement.clientWidth-50-50;m.Ys(a.current).selectAll("*").remove();let n=m.Ys(a.current).attr("width",e+50+50).attr("height",600).append("g").attr("transform","translate(".concat(50,",").concat(50,")")),r=Object.keys(t);r.length;let s=Math.max(...r.map(e=>Math.max(...Object.values(t[e])))),l=m.tiA().range([0,e]).domain(r).padding(.01),i=m.tiA().range([500,0]).domain(r).padding(.01),h=m.BYU().range(["transparent","blue"]).domain([0,s]);n.append("g").attr("transform","translate(0,".concat(500,")")).call(m.LLu(l)).selectAll("text").attr("transform","rotate(-45)").style("text-anchor","end").style("fill",o?"white":"black"),n.append("g").call(m.y4O(i)).selectAll("text").style("fill",o?"white":"black");let d=[];r.forEach((e,a)=>{r.forEach((a,n)=>{d.push({from:e,to:a,value:t[e][a]||0})})}),n.selectAll().data(d,e=>"".concat(e.from,":").concat(e.to)).enter().append("rect").attr("x",e=>l(e.to)).attr("y",e=>i(e.from)).attr("width",l.bandwidth()).attr("height",i.bandwidth()).style("fill",e=>h(e.value)).style("stroke-width",1).style("stroke",o?"white":"black").style("opacity",.8),n.selectAll().data(d,e=>"".concat(e.from,":").concat(e.to)).enter().append("text").attr("x",e=>l(e.to)+l.bandwidth()/2).attr("y",e=>i(e.from)+i.bandwidth()/2).attr("dy",".35em").style("text-anchor","middle").style("font-size","".concat(Math.min(l.bandwidth(),i.bandwidth())/1.5,"px")).style("fill",e=>o||e.value>=.6*s?"white":"black").text(e=>e.value)},[t]),(0,n.jsx)("svg",{ref:a})},f=()=>{let[e,t]=(0,r.useState)({}),[a,o]=(0,r.useState)("");return(0,n.jsxs)("div",{className:"container mx-auto p-4 max-w-2xl flex flex-col min-h-screen",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Poetry Generator"}),(0,n.jsxs)("p",{className:"mb-4",children:["Enter a poem below to generate a new poem using a simple"," ",(0,n.jsx)("a",{href:"https://en.wikipedia.org/wiki/Markov_chain",className:"text-blue-500",target:"_blank",children:"Markov chain"}),"."]}),(0,n.jsx)(s,{onPoemSubmit:e=>{let a=h(e=e.replace(/[^a-zA-Z\s]/g,"").toLowerCase());t(a),o(d(a))}}),Object.keys(e).length>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l,{matrix:e}),(0,n.jsx)(p,{matrix:e}),(0,n.jsx)(u,{data:e}),(0,n.jsx)(i,{poem:a,onGeneratePoem:()=>{o(d(e))}})]}),(0,n.jsx)("footer",{className:"mt-auto text-center text-sm border-t pt-4",children:(0,n.jsxs)("p",{children:["Made with ❤️ by"," ",(0,n.jsxs)("a",{href:"https://humbertowoody.xyz",className:"text-blue-500",target:"_blank",children:["Humberto Alcocer"," "]}),"in ",new Date().getFullYear()]})})]})}}},function(e){e.O(0,[708,971,23,744],function(){return e(e.s=5006)}),_N_E=e.O()}]);